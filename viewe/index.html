<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="icon" href="https://media.istockphoto.com/vectors/simple-cartoon-mouse-icon-vector-id870974852?k=20&m=870974852&s=612x612&w=0&h=hDvhnfGFgNbUjDPz3tzCTgMH8Utp41iA1F1ePSC9NNY=" type="image/jepg">

    <script src="socket.io/socket.io.js" ></script>

       <style>
           body{
               background-color: rgb(255, 251, 231);
           }
        #map {
  height: 400px;
  width: 550px;
}
#monitor{
    width: 90vw;
    height: auto;
    background-color: rgb(185, 240, 140);
    display: flex;
    flex-direction: row;
    padding: 8px;
    margin: auto;
}
    </style>
    <script>
             function initMap() {
              // The location of Uluru
              const uluru = { lat: -25.344, lng: 131.036 };
              // The map, centered at Uluru
              const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 10,
                center: uluru,
              });
              // The marker, positioned at Uluru
              const marker = new google.maps.Marker({
                position: uluru,
                map: map,
                icon:''
              });
            }


    </script>

    <title>Document</title>
</head>
<body>
    <h1 style="color: rgb(238, 132, 132);margin: auto;">Try to HACK This Web</h1>

    <label for="divice">Choose a divice:</label>

<select name="divice"  id="divice"  style="width: 20vw;height: 35px;overflow: auto;background-color: wheat;" onchange="changeroom()">
    <option value="Sumsong -A380">Sumsong -A380</option>
    <option value="Oppo A3-2020">Oppo A3-2020</option>
    <option value="Sanung -Z">Sanung -Z</option>
    <option value="Nokia sp-20">Nokia sp-20</option>
  </select>

    <input id="long" placeholder="enter longatute">
    <input id="lat" placeholder="enter latitute">
    <button onclick="changelocation()">Change</button>
    <div id="monitor">
    
    <div id="map"></div>
    <div id="disp" style="flex: 1;background-color: gray;margin-left: 50px;border-radius: 5px;border: 2px solid whitesmoke"></div>
</div>
    
   
    <input id="inp" type="text" style="width: 50vw;margin-left: 25%;" >
     
    
</body>
<script>

</script>
<script >
    var socket =io('/')
    console.log(document.getElementById('divice').value)

    function changeroom(){
        socket.disconnect()
        socket.connect()
        console.log(document.getElementById('divice').value)
        socket.emit('join_room',document.getElementById('divice').value)
    }
    
    socket.on('data',data=>{
        Addmessage(data)
    })

    var inputdoc =document.getElementById('inp')
    inputdoc.addEventListener('keyup',(event)=>{
        if(event.keyCode == 13){socket.emit('cmd',{"data":inputdoc.value,"room":document.getElementById('divice').value})}
        else{}
    });
    function Addmessage(data){
        document.getElementById('disp').innerHTML += `<div><i>${data}</i></div>`
    }
    </script>
<script 
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCDbgSgPBdh1P6TyVXWJzip-mZMY9NjkeM&callback=initMap&libraries=&v=weekly"
async
></script>

<script>
 function changelocation(){

var latitute =Number(document.getElementById("lat").value)
var longatute =Number(document.getElementById("long").value)

const uluru = { lat: latitute, lng: longatute };
// The map, centered at Uluru
const map = new google.maps.Map(document.getElementById("map"), {
zoom: 10,
center: uluru,
});
// The marker, positioned at Uluru
const marker = new google.maps.Marker({
position: uluru,
map: map,
icon:''
});
}
</script>
</html>